name: Run TikTok Trends Workflow

on:
  workflow_dispatch:  # Manually triggered

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: 📁 Checkout repo
      uses: actions/checkout@v3

    - name: 🐍 Set up Python 3.11
      uses: actions/setup-python@v4
      with:
        python-version: "3.11"

    - name: 📦 Install dependencies
      run: |
        pip install selenium playwright TikTokApi
        python -m playwright install

    - name: 🔍 Run Trends24 scraper
      run: python 1_data_collection/trend24_collector_github.py

    - name: 📹 Run TikTok scraper
      run: python 1_data_collection/tiktok_fetch_github.py

    - name: 📤 Upload results
      uses: actions/upload-artifact@v4
      with:
        name: trend-data-results
        path: |
          **/trends24_us_hashtags.json
          **/tiktok_tiktokapi_results.json

